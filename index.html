<!-- Include wrapper div to help fitvides make player mobile responsive. -->

<div id="fitvids-wrapper">																
	<!-- The <iframe> (and video player) will replace this <div> tag. -->
	<div id="player"></div>																	

</div>

<!-- Wrapper div for overlay. -->

<div id="als_overlay" style="display: none;">												
	<a href="https://secure.actblue.com">
		<!-- Includes float: left to fix margin issue in fancybox. -->
		<img src="https://placeholdit.imgix.net/~text?txtsize=33&txt=500x350&w=500&h=350" style="float: left;">			
	</a>
</div>

<!-- Add jQuery -->

<script type="text/javascript" src="//code.jquery.com/jquery-latest.min.js"></script>

<!-- Add fancyBox -->

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css" media="screen" />
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.pack.js"></script>

<!-- Add fitvids -->

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>

<script>

	// Sample code from https://developers.google.com/youtube/iframe_api_reference#Playback_status

	// 2. This code loads the IFrame Player API code asynchronously.
	var tag = document.createElement('script');

	tag.src = "//www.youtube.com/iframe_api";
	var firstScriptTag = document.getElementsByTagName('script')[0];
	firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

	// 3. This function creates an <iframe> (and YouTube player)
	//    after the API code downloads.
	var player;
	function onYouTubeIframeAPIReady() {
		player = new YT.Player('player', {
			height: '480',
			width: '853',
			videoId: 'KEI4qSrkPAs',
			events: {
				'onReady': onPlayerReady,
				'onStateChange': onPlayerStateChange
			}
		});

		// Activate fitvids.
		
		$(document).ready(function(){
			$("#fitvids-wrapper").fitVids();
		});

	}
	
	// 4. The API will call this function when the video player is ready.
	// Auto-play video.
	function onPlayerReady(event) {
		event.target.playVideo();
	}

	// When video state changes...
	
	function onPlayerStateChange(event) {
		
		// If the video is paused or finished...
		
		if (									
			event.data == YT.PlayerState.PAUSED
			|| event.data == YT.PlayerState.ENDED
		) {
			
			// Activate fancybox overlay.
			
			$(document).ready(function() {
				$.fancybox({
					href: '#als_overlay',
					openEffect	: 'fade',
					closeEffect	: 'none',
					padding : 0,
					closeBtn: false
				});
			});
		}
	} 

</script>